Make(webapp)
Add(MainForm,1,119,56)
{
  Width=#3:269|
  Height=#3:290|
  Caption=#10:Lights Out|
  link(onCreate,47:doWork2,[])
}
Add(PaintBox,2,231,140)
{
  Left=7
  Top=7
  Width=#3:256|
  Height=#3:256|
  Point(onMouseDown)
  link(onDraw,18:doEnum,[])
  link(onMouseDown,35:doEvent1,[])
}
Add(Matrix,3,259,56)
{
  Width=5
  Height=5
  link(onClear,10:doWork1,[])
}
Add(MultiElementEx,10,322,56)
{
  @Comment=#11:Init matrix|
}
BEGIN_SDK
Make(webapp)
Add(MultiElementEditor,11,7,7)
{
  WorkCount=1
  @VOffset=63
  @HOffset=105
  @Width=314
  @Height=158
  link(doWork1,16:doValue,[])
}
Add(For,12,84,70)
{
  End=3
  link(onEvent,13:doCalc,[])
}
Add(MathParse,13,140,70)
{
  MathStr=#38:[floor(random()*5), floor(random()*5)]|
  Args=#0:|
  link(onResult,19:doWrite,[])
}
Add(Memory,16,28,70)
{
  link(onData,12:doFor,[])
}
Add(MatrixWrite,19,196,70)
{
  Value=Real(1)
  link(Matrix,16:Value,[(202,56)(74,56)(74,116)(34,116)])
}
END_SDK
Add(Hub,17,182,56)
{
  link(onEvent1,3:doClear,[])
  link(onEvent2,36:doWork1,[(214,69)])
}
Add(MatrixEnum,18,322,140)
{
  Data=1
  link(onEnum,23:doCalc,[])
  link(Matrix,31:Var2,[])
}
Add(If_else,22,441,140)
{
  Op2=Real(0)
  link(onTrue,24:doDraw,[])
  link(onFalse,25:doDraw,[(496,153)(496,209)])
  link(Op1,18:Item,[(447,126)(369,126)(369,184)(328,184)])
}
Add(MathParse,23,392,140)
{
  MathStr=#29:point($pos[1]*51, $pos[2]*51)|
  Args=#3:pos|
  link(onResult,22:doCompare,[])
}
Add(DrawImage,24,518,140)
{
  link(Canvas,26:Var1,[(524,126)(510,126)])
  link(Image,27:Image,[])
}
Add(DrawImage,25,518,203)
{
  link(Canvas,26:Var3,[(524,191)])
  link(Image,28:Image,[(538,193)(580,193)])
}
Add(GetDataEx,26,504,184)
{
  Angle=3
  link(Data,2:Canvas,[(237,191)])
}
Add(Image,27,532,84)
{
  Left=532
  Top=63
  Visible=0
  URL=#758:data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AQSEBkdMSDuRwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAGgSURBVGje7dqxSsNAHMfxb1Owk3Dg1C0FEdzSxfXuBQrXJ5C8ia/iA0jyCJfFtZmdbrIglAQKQrucQ6K22skpV/8/CGS44f8hx3/JbxRCCPyIc46qqnDOUdc1bdsyhCilyLIMYwxaa4wxvw+FgzRNE6y1AYjisdaGpmkOCWH0+YXquma5XOK9hwvgBkiBK2DCMLIDNoAHXoA9pGlKURRkWQbAKIQQ2rZlPp93mClggEuGnS3ggHWHWq1WKKVInHPkef6NWUSAoZ9xAUzBe0+e5wAkVVVRlmV3zQzxxQAXUJYlzjnGwIP3Hm6B6whBE+AdeIPZbMbYe/8AwF0kV+1Uxv2SAEb9CoT7AW2zv2y/x+41Ofp0seZg9oQzi4AEJCABCUhAAhKQgAQkIAEJSEACEpCABCQgAQlIQAISkID+K2gXsWJ3CrSJGNTPbowh+SoA+YhB/hToha5uElu2fP3S11qTaK2x1sKerjsTWxywB2stxpgzLC9BV6wrioI0TWENPAHPwOvAtt+un+m5n3H9XS9TSnVnzrYAeHQtI65ofgC4oDUDlCWbYAAAAABJRU5ErkJggg==|
}
Add(Image,28,574,84)
{
  Left=532
  Top=175
  Visible=0
  URL=#3686:data:image/png;base64,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|
}
Add(MathParse,29,329,308)
{
  MathStr=#38:[floor($arr[0]/52), floor($arr[1]/52)]|
  Args=#3:arr|
  link(onResult,38:doEnum,[])
}
Add(MatrixWrite,30,595,308)
{
  link(Matrix,33:Var3,[(601,280)])
  link(Index,39:Result,[(608,294)(636,294)(636,354)(440,354)])
}
Add(GetDataEx,31,322,105)
{
  Angle=3
  link(Data,45:Var3,[])
}
Add(MatrixRead,32,483,308)
{
  link(onRead,34:doCalc,[])
  link(Matrix,33:Var2,[])
}
Add(GetDataEx,33,483,273)
{
  link(Data,31:Var3,[(489,112)])
}
Add(MathParse,34,539,308)
{
  MathStr=#10:1 - $value|
  Args=#5:value|
  link(onResult,30:doWrite,[])
}
Add(Hub,35,280,147)
{
  link(onEvent1,29:doCalc,[(310,153)(310,314)])
  link(onEvent2,36:doWork3,[(304,160)(304,181)(214,181)])
}
Add(HubEx,36,210,140)
{
  link(onEvent,2:doDraw,[])
}
Add(Array,37,378,252)
{
  Array=#1:[|7:	[0,0],|8:	[0,-1],|7:	[0,1],|7:	[1,0],|7:	[-1,0]|1:]|
}
Add(ArrayEnum,38,378,308)
{
  link(onEnum,39:doCalc,[])
  link(onEnd,41:doEnum,[(418,321)(418,359)(42,359)(42,230)])
  link(Array,37:Array,[])
}
Add(MathParse,39,434,308)
{
  MathStr=#44:[$arr[0] + $offset[0], $arr[1] + $offset[1]]|
  Args=#3:arr|6:offset|
  link(onResult,32:doRead,[])
  link(arr,29:Result,[(440,294)(424,294)(424,351)(335,351)])
}
Add(MatrixEnum,41,56,224)
{
  link(onEnum,42:doCalc,[])
  link(onEnd,42:doClear,[])
  link(Matrix,45:Var1,[(62,112)])
}
Add(MathParse,42,112,224)
{
  MathStr=#16:$result + $value|
  Args=#5:value|
  link(onResult,43:doCompare,[])
}
Add(If_else,43,168,224)
{
  Op2=Real(25)
  link(onTrue,46:doEvent1,[])
}
Add(Message,44,252,224)
{
  Text=#17:Congratulation!!!|
}
Add(GetDataEx,45,259,105)
{
  link(Data,3:Array,[])
}
Add(Hub,46,217,224)
{
  link(onEvent1,44:doMessage,[])
  link(onEvent2,47:doWork3,[(244,237)(244,208)(165,208)])
}
Add(HubEx,47,161,56)
{
  link(onEvent,17:doEvent1,[])
}
Add(InfoTip,48,28,196)
{
  Info=#8:Game end|
  VAlign=2
  @Width=274
  @Height=95
}
Add(InfoTip,49,322,245)
{
  Info=#13:On\off lights|
  VAlign=2
  @Width=330
  @Height=137
}
Add(InfoTip,50,378,63)
{
  Info=#4:Draw|
  @Width=274
  @Height=179
}
